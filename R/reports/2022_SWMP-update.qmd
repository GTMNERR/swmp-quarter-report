---
title: '2022 SWMP Updates'
author: "Prepared by Shannon Dunnigan and Katie Petrinec"
date: "2022-04-08 updated (`r Sys.Date()`)"
format: 
  html:
    toc: true
    toc-location: left
# knit: (function(inputFile, encoding) {
#   rmarkdown::render(inputFile, 
#                     encoding = encoding, 
#                     output_dir = here::here('output', 'reports')) })
execute: 
  echo: true
  warning: false
  message: false
  freeze: true
---

```{r}
#| label: setup
#| include: false
source(here::here('R', '00_loadpackages.R'))
source(here::here('R', '02.1_load_wrangle_NUT.R'))
source(here::here('R', '02.2_load_wrangle_WQ-and-MET.R'))
source(here::here('R', '03_graph_fxns.R')) # load graphing functions

# for the map
source(here::here('R', '04_map.R'))
```

# GTM Research Reserve Long-Term Stations

For two decades the GTM Research Reserve has been monitoring seasonal changes in water quality and weather within the Tolomato, Matanzas, and Pellicer Creek estuaries as part of the National Estuarine Research Reserve\'s (NERRs) System-Wide Monitoring Program (SWMP).

The four SWMP water quality stations operated in the GTMNERR are Pine Island, San Sebastian, Fort Matanzas, and Pellicer Creek. The locations of these stations were selected to represent the influence of watersheds with varying degrees of urban development and reflect a diversity of physical processes (e.g., tidal exchange, freshwater input) and climatic conditions. The weather station is located near the mouth of Pellicer Creek.  

```{r}
#| label: fig-map
#| echo: false


# I want to make an interactive reserve map here with leaflet
# here's a resource I want to use https://towardsdatascience.com/making-interactive-maps-in-r-with-less-than-15-lines-of-code-bfd81f587e12
# picking different map styles: https://leaflet-extras.github.io/leaflet-providers/preview/

spatial %>%
  leaflet(width = 900) %>%
  addTiles() %>%
  addMarkers(clusterOptions = markerClusterOptions(),
             label = ~htmlEscape(station_code),
             labelOptions = labelOptions(textsize = "15px")) %>%
  addPolygons(data = shape_data, weight = 5, col = 'red')
```

